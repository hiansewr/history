<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>历史版本</title>
    <!-- 外部资源引入 -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <link rel="icon" href="../ANSEWR_LOGO.png" type="image/gif" />

    <!-- Tailwind 配置 -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#3b82f6',
                        secondary: '#64748b',
                        success: '#10b981',
                        neutral: '#f1f5f9',
                    },
                    fontFamily: {
                        sans: ['Inter', 'system-ui', 'sans-serif'],
                    },
                }
            }
        }
    </script>

    <!-- 自定义工具类和动画 -->
    <style type="text/tailwindcss">
        @layer utilities {
            .content-auto {
                content-visibility: auto;
            }
            .tag {
                @apply inline-block px-3 py-1 rounded-full text-sm font-medium mr-2 mb-1;
            }
            .tags-container {
                @apply flex flex-wrap;
            }
        }

        /* 弹窗动画 */
        .modal-backdrop {
            opacity: 0;
            transition: opacity 0.3s ease-out;
        }
        
        .modal-backdrop.active {
            opacity: 1;
        }
        
        .modal-content {
            transform: scale(0.95);
            opacity: 0;
            transition: transform 0.3s cubic-bezier(0.18, 0.89, 0.32, 1.28), 
                        opacity 0.3s ease-out;
        }
        
        .modal-content.active {
            transform: scale(1);
            opacity: 1;
        }
    </style>
</head>

<body class="bg-gray-50 font-sans">
    <!-- 顶部标题栏 -->
    <header class="bg-white border-b border-gray-200 py-3 px-4 md:px-6">
        <h1 class="text-xl md:text-2xl font-semibold text-gray-800">历史版本</h1>
    </header>

    <!-- 主要内容区 -->
    <main class="max-w-4xl mx-auto px-4 py-6 md:py-8">
        <!-- 列表容器 -->
        <div class="space-y-6">
            
            <div
                class="bg-white rounded-lg shadow-sm border border-gray-100 overflow-hidden transition-all duration-200 hover:shadow-md">
                <div class="p-4 md:p-5 flex flex-col md:flex-row items-center justify-between">
                    <div class="mb-3 md:mb-0 md:mr-4">
                        <h2 class="text-lg md:text-xl font-medium text-gray-800 mb-1">OS2.0.10.0.UKICNXM</h2>
                        <p class="text-gray-600 text-sm md:text-base">发布时间：2025-8-1</p>

                        <div class="tags-container">
                            <span class="tag bg-green-100 text-green-800">安卓14.0</span>
                            <span class="tag bg-blue-100 text-blue-800">OS2.0</span>
                            <span class="tag bg-teal-100 text-teal-800">稳定/Stable</span>
                        </div>
                    </div>

                    <button
                        class="view-details bg-primary hover:bg-primary/90 text-white px-4 py-2 rounded-md transition-colors duration-200 flex items-center whitespace-nowrap"
                        data-id="3">
                        <span>查看详情</span>
                        <i class="fa fa-arrow-right ml-2"></i>
                    </button>
                </div>
            </div>

            <div
                class="bg-white rounded-lg shadow-sm border border-gray-100 overflow-hidden transition-all duration-200 hover:shadow-md">
                <div class="p-4 md:p-5 flex flex-col md:flex-row items-center justify-between">
                    <div class="mb-3 md:mb-0 md:mr-4">
                        <h2 class="text-lg md:text-xl font-medium text-gray-800 mb-1">OS1.0.11.0.UKICNXM</h2>
                        <p class="text-gray-600 text-sm md:text-base">发布时间：2025-7-12</p>

                        <div class="tags-container">
                            <span class="tag bg-green-100 text-green-800">安卓14.0</span>
                            <span class="tag bg-blue-100 text-blue-800">OS1.0</span>
                            <span class="tag bg-teal-100 text-teal-800">稳定/Stable</span>
                        </div>
                    </div>

                    <button
                        class="view-details bg-primary hover:bg-primary/90 text-white px-4 py-2 rounded-md transition-colors duration-200 flex items-center whitespace-nowrap"
                        data-id="2">
                        <span>查看详情</span>
                        <i class="fa fa-arrow-right ml-2"></i>
                    </button>
                </div>
            </div>

            <div
                class="bg-white rounded-lg shadow-sm border border-gray-100 overflow-hidden transition-all duration-200 hover:shadow-md">
                <div class="p-4 md:p-5 flex flex-col md:flex-row items-center justify-between">
                    <div class="mb-3 md:mb-0 md:mr-4">
                        <h2 class="text-lg md:text-xl font-medium text-gray-800 mb-1">OS2.0.207.0.VKICNXM</h2>
                        <p class="text-gray-600 text-sm md:text-base">发布时间：2025-6-18</p>

                        <div class="tags-container">
                            <span class="tag bg-green-100 text-green-800">安卓15.0</span>
                            <span class="tag bg-blue-100 text-blue-800">OS2.0</span>
                            <span class="tag bg-orange-100 text-orange-800">非凡大师/Ultra</span>
                            <span class="tag bg-pink-100 text-pink-800">超级小爱</span>
                        </div>
                    </div>

                    <button
                        class="view-details bg-primary hover:bg-primary/90 text-white px-4 py-2 rounded-md transition-colors duration-200 flex items-center whitespace-nowrap"
                        data-id="1">
                        <span>查看详情</span>
                        <i class="fa fa-arrow-right ml-2"></i>
                    </button>
                </div>
            </div>
        </div>
    </main>

    <!-- 详情模态框 -->
    <div id="detailModal" class="fixed inset-0 bg-black/50 flex items-center justify-center z-50 hidden modal-backdrop">
        <div class="bg-white rounded-lg max-w-2xl w-full max-h-[80vh] overflow-hidden m-4 modal-content flex flex-col">
            <!-- 模态框头部 - 已移除右上角关闭按钮 -->
            <div class="p-4 md:p-5 border-b border-gray-200">
                <h3 id="modalTitle" class="text-xl font-semibold text-gray-800">详情标题</h3>
            </div>
            
            <!-- 标签区域 - 位于标题栏下方 -->
            <div id="modalTags" class="px-4 md:px-5 py-3 border-b border-gray-200">
                <!-- 标签将通过JavaScript动态填充 -->
            </div>
            
            <!-- 模态框内容区域 - 可滚动 -->
            <div id="modalContent" class="p-4 md:p-5 text-gray-700 overflow-y-auto flex-grow">
                <!-- 详情内容将通过JavaScript动态填充 -->
            </div>
            
            <!-- 底部按钮区域 - 固定在底部 -->
            <div class="p-4 md:p-5 border-t border-gray-200 flex justify-end gap-3 bg-white">
                <button id="cancelBtn"
                    class="bg-gray-200 hover:bg-gray-300 text-gray-800 px-4 py-2 rounded-md transition-colors duration-200">
                    取消
                </button>
                <button id="downloadBtn"
                    class="bg-success hover:bg-success/90 text-white px-4 py-2 rounded-md transition-colors duration-200 flex items-center">
                    <i class="fa fa-download mr-2"></i>
                    <span>同意并下载</span>
                </button>
            </div>
        </div>
    </div>

    <script>
        // 确保DOM完全加载后执行
        document.addEventListener('DOMContentLoaded', function () {
            // 详情数据存储 - 包含每个项目的下载链接和标签
            const details = {
                1: {
                    title: "OS2.0.207.0.VKICNXM",
                    tags: `<span class="tag bg-green-100 text-green-800">安卓15.0</span>
                           <span class="tag bg-blue-100 text-blue-800">OS2.0</span>
                           <span class="tag bg-orange-100 text-orange-800">非凡大师/Ultra</span>
                           <span class="tag bg-pink-100 text-pink-800">超级小爱</span> `,
                    content: `<p class="mb-4"><strong>系统动画</strong></p>
                              <p class="mb-4">优化 进入应用二级页时的打断动画效果</p>
                              <p class="mb-4">优化 应用跳转时的打断动画效果</p>
                              <p class="mb-4">优化 关闭横屏应用时的打断动画效果</p>
                              <p class="mb-4">修复 打开关闭应用时偶现应用闪屏问题</p>

                              <p class="mb-4"><strong>系统</strong></p>
                              <p class="mb-4">新增 桌面壁纸支持模糊效果</p>
                              <p class="mb-4">优化 部分场景下的手势提示线沉浸效果</p>
                              <p class="mb-4">优化 部分经典页面样式更新</p>
                              <p class="mb-4">优化 打开应用时的动画显示效果</p>
                              <p class="mb-4">优化 部分场景支持显示更大字号的字体，提升大字模式体验</p>
                              <p class="mb-4">优化 长按手势提示线交互，降低唤醒超级小爱误触率</p>
                              <p class="mb-4">优化 打开/关闭应用动画稳定性</p>
                              <p class="mb-4">优化 部分三方应用的信息流页面流畅度</p>
                              <p class="mb-4">优化 部分三方应用视频播放体验</p>
                              <p class="mb-4">修复 打开/关闭应用动画显示异常问题</p>
                              <p class="mb-4">修复 部分场景手势失效问题</p>
                              <p class="mb-4">修复 打开/关闭应用偶现壁纸丢失问题</p>
                              <p class="mb-4">修复 打开/关闭应用偶现应用显示异常问题</p>

                              <p class="mb-4"><strong>超级小爱</p></strong>
                              <p class="mb-4">新增 超级小爱记忆</p>
                              <p class="mb-4">· 帮你记：支持通过语音/文字指令，轻松记录个人证件号码、地址、日程、网页链接等信息；还可通过超级小爱识屏，提取并记录图片中的证件号码</p>
                              <p class="mb-4">· 帮你找：通过语音指令，快速查找超级小爱已记住的信息</p>
                              <p class="mb-4">· 该功能需前往应用商店，将“超级小爱”升级至7.4及以上版本</p>

                              <p class="mb-4"><strong>桌面</strong></p>
                              <p class="mb-4">新增 桌面图标文字在壁纸浅色区域显示阴影效果</p>

                              <p class="mb-4"><strong>智能助理</strong></p>
                              <p class="mb-4">新增 “出行助手”支持手动添加行程</p>
                              <p class="mb-4">新增 手机低电量状态下，主动推荐附近的充电宝租赁点、并主动建议开启省电模式</p>

                              <p class="mb-4"><strong>锁屏</strong></p>
                              <p class="mb-4">新增 锁屏壁纸支持透镜效果</p>
                              <p class="mb-4">新增 锁屏自定义快捷功能</p>
                              <p class="mb-4">优化 支持设置蝴蝶、光波、漩涡等指纹解锁动画</p>
                              
                              <p class="mb-4"><strong>相机</strong></p>
                              <p class="mb-4">恢复 旧版相机</p>
                              <p class="mb-4">· 若出现使用异常请尝试清除相机数据</p>
                              
                              <p class="mb-4"><strong>设置</strong></p>
                              <p class="mb-4">优化 桌面设置中，系统导航方式页的快捷功能入口</p>
                              <p class="mb-4">状态栏、通知栏</strong></p>
                              <p class="mb-4">新增 部分状态栏图标支持自定义展示</p>
                              <p class="mb-4">优化 自定义通知支持取消折叠</p>
                              <p class="mb-4">优化 信号HD图标不在状态栏常驻显示</p>
                              
                              <p class="mb-4"><strong>无障碍服务</strong></p>
                              <p class="mb-4">修复 部分场景 TalkBack 触摸操作失效的问题</p>
                              <p class="mb-4">修复 TalkBack 模式下音量调节失效的问题</p>
                              <p class="mb-4">修复 录音机录制到 TalkBack 声音的问题</p>
                              <p class="mb-4">修复 日历等应用无选中状态提示播报问题</p>
                              <p class="mb-4">修复 部分应用按钮不播报的问题，包括设置、控制中心、短信、联系人、天气、笔记、浏览器等</p>
                              <p class="mb-4">更多无障碍修复，请打开“小米社区”搜索“无障碍”，进入“无障碍圈子”，点击置顶帖即可查看完整修复日志</p>
                              
                              <p class="mb-4"><strong>注意事项</strong></p>
                              <p class="mb-4">· 在使用过程中遇到任何问题，可以通过QQ频道寻求帮助、进行问题反馈</p>
                              <p class="mb-4">· 更多小米澎湃OS使用技巧，欢迎进入QQ频道讨论</p>
                              <p class="mb-4">服务由 言十二极研中心 提供</p>`,
                    downloadUrl: "https://www.123684.com/s/q5t0Vv-v4LW",
                    downloadFileName: "renoir_images_OS2.0.207.0.VKICNXM_20250618_15.0_cn_d74b22ef14.tgz"
                },
                2: {
                    title: "OS1.0.11.0.UKICNXM",
                    tags: `<span class="tag bg-green-100 text-green-800">安卓14.0</span>
                           <span class="tag bg-blue-100 text-blue-800">OS1.0</span>
                           <span class="tag bg-teal-100 text-teal-800">稳定/Stable</span>`,
                    content: `<p class="mb-4"><strong>系统</strong></p>
                              <p class="mb-4">合入2025年2月安全补丁，增强系统安全</p>
                              <p class="mb-4"><strong>注意事项</strong></p>
                              <p class="mb-4">· 在使用过程中遇到任何问题，可以通过QQ频道寻求帮助、进行问题反馈</p>
                              <p class="mb-4">· 更多小米澎湃OS使用技巧，欢迎进入QQ频道讨论</p>
                              <p class="mb-4">服务由 言十二极研中心 提供</p>`,
                    downloadUrl: "https://www.123684.com/s/q5t0Vv-PCLW",
                    downloadFileName: "renoir_images_OS1.0.11.0.UKICNXM_20250712.0000.00_14.0_cn_d74b22ef14.tgz"
                },
                3: {
                    title: "OS2.0.10.0.UKICNXM",
                    tags: `<span class="tag bg-green-100 text-green-800">安卓14.0</span>
                           <span class="tag bg-blue-100 text-blue-800">OS2.0</span>
                           <span class="tag bg-teal-100 text-teal-800">稳定/Stable</span>`,
                    content: `<p class="mb-4"><strong>系统</strong></p>
                              <p class="mb-4">合入2025年6月安全补丁，增强系统安全</p>
                              <p class="mb-4"><strong>注意事项</strong></p>
                              <p class="mb-4">· 在使用过程中遇到任何问题，可以通过QQ频道寻求帮助、进行问题反馈</p>
                              <p class="mb-4">· 更多小米澎湃OS使用技巧，欢迎进入QQ频道讨论</p>
                              <p class="mb-4">服务由 言十二极研中心 提供</p>`,
                    downloadUrl: "https://www.123684.com/s/q5t0Vv-7eLW",
                    downloadFileName: "renoir_images_OS2.0.10.0.UKICNXM_20250801.0000.00_14.0_cn_d74b22ef14.tgz"
                }
            };

            // 当前选中的详情ID
            let currentDetailId = null;

            // DOM元素获取
            const modal = document.getElementById('detailModal');
            const modalContent = modal.querySelector('.modal-content');
            const modalTitle = document.getElementById('modalTitle');
            const modalTags = document.getElementById('modalTags');
            const modalBody = document.getElementById('modalContent');
            const cancelBtn = document.getElementById('cancelBtn');
            const downloadBtn = document.getElementById('downloadBtn');
            const viewButtons = document.querySelectorAll('.view-details');

            // 打开模态框函数
            function openModal(detail, id) {
                currentDetailId = id;
                modalTitle.textContent = detail.title;
                modalTags.innerHTML = detail.tags;  // 填充标签
                modalBody.innerHTML = detail.content;
                modal.classList.remove('hidden');

                // 触发动画
                setTimeout(() => {
                    modal.classList.add('active');
                    modalContent.classList.add('active');
                }, 10);

                document.body.style.overflow = 'hidden'; // 防止背景滚动
            }

            // 关闭模态框函数
            function closeModalHandler() {
                // 移除激活类以触发退出动画
                modal.classList.remove('active');
                modalContent.classList.remove('active');

                // 动画结束后隐藏模态框
                setTimeout(() => {
                    modal.classList.add('hidden');
                    document.body.style.overflow = ''; // 恢复背景滚动
                    currentDetailId = null;
                }, 300);
            }

            // 下载处理函数 - 在新窗口中打开下载链接
            function handleDownload() {
                if (currentDetailId && details[currentDetailId]) {
                    const detail = details[currentDetailId];

                    // 在新窗口中打开下载链接
                    // 设置窗口大小为800x600，位于屏幕中央
                    const windowWidth = 800;
                    const windowHeight = 600;
                    const left = (window.screen.width - windowWidth) / 2;
                    const top = (window.screen.height - windowHeight) / 2;

                    window.open(
                        detail.downloadUrl,
                        '_blank',
                        `width=${windowWidth}, height=${windowHeight}, left=${left}, top=${top}, resizable=yes, scrollbars=yes`
                    );

                    // 下载后关闭模态框
                    closeModalHandler();
                }
            }

            // 打开模态框事件绑定
            viewButtons.forEach(button => {
                button.addEventListener('click', () => {
                    const id = button.getAttribute('data-id');
                    const detail = details[id];

                    if (detail) {
                        openModal(detail, id);
                    }
                });
            });

            // 关闭模态框事件绑定
            cancelBtn.addEventListener('click', closeModalHandler);

            // 下载按钮事件绑定
            downloadBtn.addEventListener('click', handleDownload);

            // 点击模态框外部关闭
            modal.addEventListener('click', (e) => {
                if (e.target === modal) {
                    closeModalHandler();
                }
            });

            // 按ESC键关闭
            document.addEventListener('keydown', (e) => {
                if (e.key === 'Escape' && !modal.classList.contains('hidden')) {
                    closeModalHandler();
                }
            });
        });
    </script>
</body>

</html>
